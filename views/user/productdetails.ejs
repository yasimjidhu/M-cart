<!--header-->
<%- include('../user/partials/header') %> 
<%- include('../user/partials/links') %>
<!--Navbar-->
<%- include('../user/partials/navbar') %>

<!-- Product Details Page -->
<div class="container-fluid my-5">
    <div class="row">
        <!-- Sub Images Column -->
        <div class="col-lg-2 " id="sub-images-container" style="z-index: 99;">
            <% data.forEach(function(subImages) { %>
                <div class="sub-images-group">
                    <% for (let i = 1; i <=4 && i < subImages.image.length; i++) { %>
                        <div class="sub-image mb-3" style="background-color: #a198988a;width: 180px;" onclick="showpreview('showimage<%=i%>','displayImage')">
                            <img style="width: 100%;" src="/uploads/<%= subImages.image[i] %>" alt="Sub Image" class="img-fluid" id="showimage<%=i%>">
                        </div>
                    <% } %>
                </div>
            <% }); %>
        </div>
    
    
        <% data.forEach(function(product) { %>
            <div class="col-lg-4" id="img-container" style="z-index: 100;">
                <img width="100%" src="/uploads/<%= product.image[4] %>" alt="<%= product.productName %>" id="displayImage">

                <div class="col-lg-12 mt-5" style="display: flex;justify-content: center;margin: 50px; flex-direction: column; align-items: flex-start;"  ">
                    <h3 class="text-start">Specifications</h3>
                    <div class="spec">
                        
                    <ul style="list-style: none;">
                        <li><%= product.specifications[0] %></li>
                        <li><%= product.specifications[1] %></li>
                        <li><%= product.specifications[3] %></li>
                        <li><%= product.specifications[4] %></li>
                        <!-- Add more specifications as needed -->
                    </ul>
                </div>
                </div>
            </div>
            <div class="col-lg-6">
                <h1><%= product.productName %></h1>
                <p class="phone-price">$<%= product.price %></p>
                <p><%= product.description %></p>
                <button class="btn btn-sub">Add to Cart</button>
                <button class="btn btn-cancel">Buy Now</button>
            </div>
        </div>
    </div>
    </div>


        
  
    <% }) %>
</div>

<!--footer-->
<%- include('../user/partials/footer') %>

<!-- Include Bootstrap and any additional scripts or styles as needed -->
<script src="https://unpkg.com/js-image-zoom@0.4.1/js-image-zoom.js"></script>
<script>
    var options = {
        width: 300,
        zoomWidth: 400,
        offset: { vertical: 10, horizontal: 10 }
    };
    new ImageZoom(document.getElementById("img-container"), options);
    function showpreview(subimage,displayImage){
        const displayImg=document.getElementById(displayImage)
        const sub=document.getElementById(subimage)
        const mainsrc=displayImg.src;
        displayImg.src=sub.src
        sub.src=mainsrc
        
        var options = {
            width: 300,
            zoomWidth: 200,
            offset: { vertical: 10, horizontal: 10 }
        };      
        new ImageZoom(document.getElementById("img-container"), options);
    }
</script>
